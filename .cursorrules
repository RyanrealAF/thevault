# MASTER DOCTRINE WORKSPACE DIRECTIVE
# "Operator AI Deployment Package" & "Anvil Protocol" Integration
# Unified Command Center for RyanrealAF Digital Monument

## EXECUTIVE SUMMARY
This directive consolidates all nested projects (`src/`, `src/project 2/`) into a single Astro-based "Master Doctrine" workspace. The `project-root/` directory serves as the unified command center, implementing Dark Elegance aesthetics and Cloudflare deployment protocols.

## VAULT ACCESS PROTOCOL (SUBMODULE HANDLING)
### Rule: Submodule "Vault Access" Protocol
**Logic:** Do not use `GIT_SUBMODULES: false`. Instead, enforce the "Access Agent Infiltration" logic by explicitly mapping submodule URLs to the primary `buildwhilebleeding.com` environment.

**Verification:** Before pushing to Cloudflare, verify that the `.gitmodules` file uses absolute `https://` paths.

**Deployment Command:** When a submodule sync error occurs, execute the following "hard-reset" sequence:
```bash
git submodule deinit -f .
git rm -f [submodule-path]
rm -rf .git/modules/[submodule-path]
git submodule add https://github.com/[username]/[repo].git [submodule-path]
```

**Doctrine Check:** Ensure "Breadcrumb Web" logs are not excluded from submodule builds, as they constitute the "irrefutable chronological record" of the vault.

---

## PHASE 1: CONTENT CONSOLIDATION

### Step 1.1: Move Existing Content Structure
Execute the following commands to merge `src/content/` into `project-root/src/content/`:

```bash
# Move organized content from src/ to project-root/src/content/
cp -r src/content/* project-root/src/content/

# Ensure all content files have proper frontmatter
# AI will automatically add missing frontmatter based on content analysis
```

### Step 1.2: Process NotebookLM Raw Imports
Categorize and convert all files from `src/project 2/notebooklm-import-raw/`:

**Identity Category:**
- `Ryan Overview.txt` → `project-root/src/content/identity/ryan-overview.md`
- `RyanrealAF_ A Multifaceted Analysis of Brand and Persona.txt` → `project-root/src/content/identity/brand-analysis.md`
- `## DOCTRINE_CONTENT.md___(Tier 1_ Core Doctrine....txt` → `project-root/src/content/identity/core-doctrine.md`

**Archive Category (Narratives):**
- `long backstory .txt` → `project-root/src/content/archive/narratives/long-backstory.md`
- `Skittlez Backstory — Full, Detailed Record.txt` → `project-root/src/content/archive/narratives/skittlez-backstory.md`
- `The Social Test- A Narrative of Manipulation and Survival.txt` → `project-root/src/content/archive/narratives/social-test.md`
- `The Unlikely Classroom of Ryan Borland- A Study in Lived-In Wisdom.txt` → `project-root/src/content/archive/narratives/unlikely-classroom.md`
- `umpaandryry.txt` → `project-root/src/content/archive/narratives/umpaandryry.md`
- `Forensic Analysis of Jess- A Study in Relational Duality.txt` → `project-root/src/content/archive/narratives/jess-forensic-analysis.md`

**Archive Category (Songs):**
- `The Honeypot Doctrine (Bars).txt` → `project-root/src/content/archive/songs/honeypot-doctrine-bars.md`
- `The game now seen Final.txt` → `project-root/src/content/archive/songs/the-game-now-seen.md`

**Curriculum Category:**
- `Chapter 1_ The Operational framework .txt` → `project-root/src/content/curriculum/operational-framework.md`
- `A Multi-Trail Forensic Approach to Identifying Hidden Coordination in Legal and Political Contexts.txt` → `project-root/src/content/curriculum/multi-trail-forensic-approach.md`
- `Civilians as Weapons- The Silent Soldiers of a Setup.txt` → `project-root/src/content/curriculum/civilians-as-weapons.md`
- `Social manipulation final.txt` → `project-root/src/content/curriculum/social-manipulation-101.md`
- `The Architecture of Psychological Annihilation_..txt` → `project-root/src/content/curriculum/psychological-annihilation.md`
- `The Unseen Game_ The Playbook.txt` → `project-root/src/content/curriculum/unseen-game-playbook.md`
- `The Unseen War_ Surviving Psychological Manipulati....txt` → `project-root/src/content/curriculum/unseen-war-survival.md`

**Doctrine Category:**
- `Psychological  Warfare Manual.txt` → `project-root/src/content/doctrine/psychological-warfare-manual.md`
- `Psychological Warfare and Its Effects.txt` → `project-root/src/content/doctrine/psychological-warfare-effects.md`
- `The Infiltrator's Playbook.txt` → `project-root/src/content/doctrine/infiltrators-playbook.md`
- `Forensic Analysis_ Psychological Warfare.txt` → `project-root/src/content/doctrine/forensic-analysis-psych-warfare.md`

**Dispatch Category:**
- `fixing broken system 2023-12-05 09_15.m4a.txt` → `project-root/src/content/dispatch/fixing-broken-system.md`
- `key concepts, relationships, events, and insights-.txt` → `project-root/src/content/dispatch/key-concepts.md`

### Step 1.3: Content Conversion Protocol
For each moved file, apply the File Conversion Protocol:

1. Convert to clean Markdown
2. Add standard frontmatter:
```yaml
---
title: "Document Title"
category: "identity" # or archive/curriculum/doctrine/dispatch
date: "2025-01-11"
tags: ["relevant", "tags"]
featured: false
excerpt: "Brief description for previews"
---
```
3. Add Doctrine Notes at the bottom

---

## PHASE 2: REACT APP INTEGRATION

### Step 2.1: Convert React Doctrine Archive to Astro Component
The `src/project 2/ryan-doctrine-archive/` React app will be converted to an Astro page/component:

**Create:** `project-root/src/pages/doctrine-archive.astro`

```astro
---
// Doctrine Archive - Converted from React App
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="RyanrealAF Doctrine Archive" />
    <title>RyanrealAF - Doctrine Archive</title>
  </head>
  <body class="bg-matte-black text-white font-sans">
    <div id="root">
      <!-- Converted React functionality -->
      <div class="min-h-screen bg-matte-black">
        <header class="bg-charcoal border-b border-bronze/20">
          <div class="container mx-auto px-4 py-6">
            <h1 class="text-3xl font-bold text-bronze">Doctrine Archive</h1>
            <p class="text-gray-400 mt-2">Master collection of psychological warfare doctrine</p>
          </div>
        </header>

        <main class="container mx-auto px-4 py-8">
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Dynamic content cards will be populated from content collections -->
          </div>
        </main>
      </div>
    </div>
  </body>
</html>
```

### Step 2.2: Migrate Static Assets
Move assets from `src/project 2/ryan-doctrine-archive/public/` to `project-root/public/`:
- `favicon.ico` → `project-root/public/favicon.ico`
- `logo192.png` → `project-root/public/logo192.png`
- `logo512.png` → `project-root/public/logo512.png`
- `manifest.json` → `project-root/public/manifest.json`
- `robots.txt` → `project-root/public/robots.txt`

---

## PHASE 3: UNIFIED VS CODE WORKSPACE CONFIGURATION

### Step 3.1: Create Master Workspace Settings
**File:** `project-root/.vscode/settings.json`

```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "tailwindCSS.includeLanguages": {
    "astro": "HTML"
  },
  "emmet.includeLanguages": {
    "astro": "html"
  },
  "files.associations": {
    "*.astro": "astro"
  },
  "astro.validate": true,
  "python.defaultInterpreterPath": "python3",
  "python.terminal.activateEnvironment": true,
  "[markdown]": {
    "editor.wordWrap": "on",
    "editor.quickSuggestions": {
      "comments": "off",
      "strings": "off",
      "other": "off"
    }
  }
}
```

### Step 3.2: Update Extensions Recommendations
**File:** `project-root/.vscode/extensions.json`

```json
{
  "recommendations": [
    "astro-build.astro-vscode",
    "esbenp.prettier-vscode",
    "bradlc.vscode-tailwindcss",
    "ms-vscode.vscode-typescript-next",
    "ms-python.python",
    "ms-vscode.vscode-json"
  ],
  "unwantedRecommendations": []
}
```

### Step 3.3: Update Launch Configuration
**File:** `project-root/.vscode/launch.json`

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "command": "./node_modules/.bin/astro dev",
      "name": "Development server",
      "request": "launch",
      "type": "node-terminal"
    },
    {
      "command": "./node_modules/.bin/astro build",
      "name": "Build project",
      "request": "launch",
      "type": "node-terminal"
    },
    {
      "command": "./node_modules/.bin/astro preview",
      "name": "Preview build",
      "request": "launch",
      "type": "node-terminal"
    }
  ]
}
```

---

## PHASE 4: DEPENDENCY CONSOLIDATION

### Step 4.1: Update Package.json
**File:** `project-root/package.json`

```json
{
  "name": "ryanrealaf-master-doctrine",
  "type": "module",
  "version": "1.0.0",
  "description": "Unified digital monument to lived experience and intellectual rigor",
  "scripts": {
    "dev": "astro dev",
    "build": "astro build",
    "preview": "astro preview",
    "astro": "astro",
    "clean": "rm -rf dist node_modules/.astro",
    "deploy": "npm run build && echo 'Ready for Cloudflare deployment'"
  },
  "dependencies": {
    "astro": "^5.16.8",
    "@astrojs/tailwind": "^6.0.2",
    "tailwindcss": "^3.4.19"
  },
  "keywords": ["doctrine", "archive", "curriculum", "ryanrealaf", "dark-elegance"],
  "author": "RyanrealAF",
  "license": "UNLICENSED"
}
```

### Step 4.2: Update Tailwind Configuration
**File:** `project-root/tailwind.config.mjs`

```js
/** @type {import('tailwindcss').Config} */
export default {
  content: ['./src/**/*.{astro,html,js,jsx,md,mdx,svelte,ts,tsx,vue}'],
  theme: {
    extend: {
      colors: {
        'matte-black': '#0A0A0A',
        'charcoal': '#1A1A1A',
        'charcoal-light': '#2A2A2A',
        'bronze': '#CD7F32',
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
      },
      transitionDuration: {
        'fast': '200ms',
      },
    },
  },
  plugins: [],
}
```

---

## PHASE 5: NAVIGATION INTEGRATION

### Step 5.1: Update Navigation Component
Add "Doctrine Archive" to the navigation:

**File:** `project-root/src/components/Navigation.astro`

```astro
---
// Updated Navigation with Doctrine Archive
const navItems = [
  { name: 'Identity', path: '/identity' },
  { name: 'Archive', path: '/archive' },
  { name: 'Curriculum', path: '/curriculum' },
  { name: 'Doctrine', path: '/doctrine' },
  { name: 'Dispatch', path: '/dispatch' },
  { name: 'Doctrine Archive', path: '/doctrine-archive' }, // New route
];
---
<!-- Navigation component remains the same -->
```

### Step 5.2: Create Doctrine Archive Page
**File:** `project-root/src/pages/doctrine-archive.astro`

```astro
---
import Layout from '../layouts/Base.astro';
import { getCollection } from 'astro:content';

// Get all doctrine content
const doctrineContent = await getCollection('doctrine');
const archiveContent = await getCollection('archive');
---

<Layout title="Doctrine Archive">
  <div class="container mx-auto px-4 py-8">
    <div class="mb-12">
      <h1 class="text-4xl font-bold text-bronze mb-4">Doctrine Archive</h1>
      <p class="text-gray-400 text-lg">Master collection of psychological warfare doctrine and tactical archives</p>
    </div>

    <!-- Doctrine Section -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-white mb-6 border-b border-bronze/20 pb-2">Core Doctrine</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {doctrineContent.map(item => (
          <article class="bg-charcoal border border-bronze/20 p-6 hover:border-bronze transition-all duration-200">
            <div class="text-xs text-bronze uppercase tracking-wider mb-2">Doctrine</div>
            <h3 class="text-xl font-bold text-white mb-2">{item.data.title}</h3>
            <p class="text-gray-400 text-sm mb-4">{item.data.excerpt}</p>
            <a href={`/doctrine/${item.slug}`} class="text-bronze hover:text-white transition-colors">
              Read Doctrine →
            </a>
          </article>
        ))}
      </div>
    </section>

    <!-- Archive Section -->
    <section>
      <h2 class="text-2xl font-bold text-white mb-6 border-b border-bronze/20 pb-2">Archive Collections</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {archiveContent.map(item => (
          <article class="bg-charcoal border border-bronze/20 p-6 hover:border-bronze transition-all duration-200">
            <div class="text-xs text-bronze uppercase tracking-wider mb-2">Archive</div>
            <h3 class="text-xl font-bold text-white mb-2">{item.data.title}</h3>
            <p class="text-gray-400 text-sm mb-4">{item.data.excerpt}</p>
            <a href={`/archive/${item.slug}`} class="text-bronze hover:text-white transition-colors">
              Read Archive →
            </a>
          </article>
        ))}
      </div>
    </section>
  </div>
</Layout>
```

---

## PHASE 6: DEPLOYMENT VALIDATION

### Step 6.1: Pre-Deployment Checklist
- [ ] All content moved to `project-root/src/content/`
- [ ] Frontmatter added to all Markdown files
- [ ] Navigation updated with new routes
- [ ] VS Code workspace configured
- [ ] Dependencies consolidated
- [ ] Build test successful (`npm run build`)
- [ ] Lighthouse scores: Performance 95+, Accessibility 95+, Best Practices 95+, SEO 95+

### Step 6.2: Cloudflare Deployment
```bash
cd project-root
npm run build
# Upload dist/ folder to Cloudflare Pages
# Or connect GitHub repository for automatic deployments
```

### Step 6.3: Submodule Verification
Before final deployment:
```bash
# Check .gitmodules file
cat .gitmodules

# Ensure all submodule URLs are https:// absolute paths
# Verify Breadcrumb Web logs are included in build output
```

---

## OPERATOR EXECUTION PROTOCOL

### Immediate Actions Required:
1. **Execute Phase 1:** Move and categorize all content files
2. **Execute Phase 2:** Convert React app to Astro page
3. **Execute Phase 3:** Create unified VS Code workspace configuration
4. **Execute Phase 4:** Update dependencies and build configuration
5. **Execute Phase 5:** Integrate navigation and routing
6. **Execute Phase 6:** Validate and deploy

### Performance Mandates:
- **Load Time:** Under 2 seconds on 4G mobile
- **Lighthouse Score:** 95+ across all metrics
- **Build Size:** Optimized for Cloudflare free tier
- **SEO:** Semantic HTML5, proper meta tags, sitemap

### Doctrine Compliance:
- **Dark Elegance:** Matte black (#0A0A0A), bronze accents (#CD7F32)
- **Content First:** Markdown-native, mobile-responsive
- **Performance Obsessed:** Code-split, lazy-loaded, optimized images
- **Vault Access:** Submodules treated as secure access points, not errors

---

## FINAL MISSION STATEMENT

This Master Doctrine workspace represents the unified digital monument to lived experience and intellectual rigor. Every line of code serves the work, not ego. Every deployment advances the mission. Every user interaction reveals another layer of the doctrine.

**Execute the phases. Build the monument. Deploy the vault.**

#gitprotocol #cloudflare #anvilprotocol #masterdoctrine